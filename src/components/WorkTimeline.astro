---
// WorkTimeline.astro
interface TimelineItem {
  year: string;
  title: string;
  company: string;
  description: string;
}

const experiences: TimelineItem[] = [
  {
    year: "September 2024 – Present",
    title: "Applied Research Scientist",
    company: "Herta Security",
    description: "Leading computer vision research on clothing segmentation algorithms and implementing audio-to-text transcription features for forensic analysis applications."
  },
  {
    year: "September 2022 - 2024",
    title: "Software Engineer",
    company: "GTD Defense & Security",
    description: "Developed computer vision algorithms achieving 70% accuracy in object classification on Jetson Xavier AGX. Led system optimization initiatives including DDS/WebSocket implementation, improving communication speed by 30%."
  },
  {
    year: "July 2022 - September 2022",
    title: "Trainee Software Engineer",
    company: "Universidad de Cádiz",
    description: "Developed technical documentation and provided system support while gaining hands-on experience with frontend development using React and JavaScript."
  }
];
---

<div class="max-w-3xl mx-auto">
  <div class="flex items-center gap-2 mb-8">
    <svg xmlns="http://www.w3.org/2000/svg" class="text-yellow-500" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <rect width="20" height="14" x="2" y="7" rx="2" ry="2"/>
      <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
    </svg>
    <h3>
      Work Experience
    </h3>
  </div>
  
  <div class="relative">
    {experiences.map((experience) => (
      <div class="relative pl-8 sm:pl-16 py-6">
        {/* Timeline line */}
        <div class="absolute left-0 sm:left-8 top-0 h-full w-[2px] bg-gray-200 dark:bg-gray-800"></div>
        
        {/* Timeline dot */}
        <div class="absolute left-[-5px] sm:left-[27px] top-7 w-3 h-3 rounded-full bg-yellow-500"></div>
        
        {/* Content */}
        <div class="flex flex-col gap-2">
          <span class="flex items-center gap-2 text-sm">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="18" height="18" x="3" y="4" rx="2" ry="2"/>
              <line x1="16" y1="2" x2="16" y2="6"/>
              <line x1="8" y1="2" x2="8" y2="6"/>
              <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
            {experience.year}
          </span>
          
          <h3 class="text-xl font-bold">
            {experience.title}
          </h3>
          
          <div class="flex items-center gap-2 text-gray-600 dark:text-gray-300">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="16" height="20" x="4" y="2" rx="2" ry="2"/>
              <path d="M9 22v-4h6v4"/>
              <path d="M8 6h.01"/>
              <path d="M16 6h.01"/>
              <path d="M12 6h.01"/>
              <path d="M12 10h.01"/>
              <path d="M12 14h.01"/>
              <path d="M16 10h.01"/>
              <path d="M16 14h.01"/>
              <path d="M8 10h.01"/>
              <path d="M8 14h.01"/>
            </svg>
            <span>{experience.company}</span>
          </div>
          
          <p>
            {experience.description}
          </p>
        </div>
      </div>
    ))}
  </div>
</div>

<style>
  .relative {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeIn 0.5s ease-out forwards;
  }

  @keyframes fadeIn {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Add animation delay for each item */
  .relative:nth-child(1) { animation-delay: 0.1s; }
  .relative:nth-child(2) { animation-delay: 0.4s; }
  .relative:nth-child(3) { animation-delay: 0.7s; }
</style>